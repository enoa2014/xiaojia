
# 产品需求文档（PRD）
**项目名称**：大病儿童家庭“小家”服务管理小程序  
**版本**：v1.1  
**作者**：PM 代理  

---

## 1. 背景与目标  
- **背景**：公益机构长期服务异地就医的大病儿童及家庭，需提升数据管理和服务效率。  
- **目标**：  
  1. 将患者、家庭、入住、退住、服务等数据数字化管理。  
  2. 提供多维度的统计与可视化分析，辅助项目评估。  
  3. 支持志愿者、社工、管理员多角色协作，保障信息脱敏与权限控制。  

---

## 2. 用户角色与需求  
### 管理员  
- 配置权限（原始数据/脱敏数据切换）。  
- 管理家庭档案与入住/退住信息。  
- 查看统计分析，导出报表。  

### 社工  
- 建立和维护患者与家庭信息。  
- 审核并管理志愿者的探访与服务记录。  
- 根据申请关闭特定信息的脱敏。  

### 志愿者  
- 填写探访记录、物资发放、心理陪伴等服务日志。  
- 上传活动照片、患者头像。  
- 查看分配任务与历史服务。  

### 家长  
- 查看家庭档案和活动信息。  
- 提交反馈与需求。  

---

## 3. 功能模块  
### 患者与家庭档案  
- 基础信息：姓名、身份证号（唯一去重）、联系方式。  
- 医疗信息：诊断、康复情况。  
- 家庭信息：经济状况、居住情况。  

### 入住/退住管理  
- 入住/退住记录：起止日期、房间/床位、补助金额。  
- 入住条目可排序。  

### 家庭服务记录  
- 服务类型：探访、心理支持、物资、转介、随访。  
- 日志：时间、参与人、备注。  
- 支持上传活动照片。  

### 活动管理与统计分析  
- 活动日程发布与报名。  
- 服务数据的月度/年度统计与可视化。  
- 导出功能（Excel/PDF）。  

### 权限与安全  
- 支持数据脱敏与原始数据切换。  
- 按角色访问控制。  
- 管理员可审批特定信息的访问权限。  

---

## 4. 验收标准  
- 系统支持至少三类角色（管理员、社工、志愿者）的权限区分。  
- 身份证作为唯一去重标识。  
- 统计分析模块能展示月度和年度数据。  
- 支持数据导出为 Excel/PDF。  
- 数据脱敏功能可按用户和字段维度配置。  

---

## 5. 非功能性需求  
- 性能：支持 500+ 档案、日活 100+ 用户同时访问。  
- 安全性：用户数据需加密存储；敏感信息默认脱敏。  
- 兼容性：兼容安卓与 iOS 微信小程序环境。  
- 可维护性：前后端模块化，支持 CI/CD 自动部署。  

---

## 6. 风险与限制  
- 依赖志愿者/社工数据录入的及时性。  
- 部分统计分析需人工校正历史数据。  
- 云函数 HTTP 接口访问可能受限，需本地调试接口。  

---

## 7. 优先级与 Epic 梳理  

### 7.1 MVP 范围（最小可行产品）  
必须在第一阶段上线的核心功能，保证系统可用：  
- 患者与家庭档案管理（含身份证去重、基础信息、医疗信息、家庭信息）。  
- 入住/退住管理（起止日期、床位、补助金额）。  
- 家庭服务记录（基本日志填报：探访/心理/物资）。  
- 权限与安全（管理员/社工/志愿者 角色区分，数据脱敏开关）。  
- 统计分析 - 月度数据展示（基础可视化）。  

### 7.2 Must-have（紧随 MVP 后的必备功能）  
- 活动管理（活动日程发布与报名）。  
- 统计分析 - 年度汇总。  
- 导出功能（Excel/PDF）。  
- 管理员审批特定信息的脱敏权限。  

### 7.3 Should-have（增强用户体验）  
- 志愿者上传活动照片/患者头像。  
- 家长端反馈与需求提交。  
- 数据多维度过滤与高级搜索。  

### 7.4 Could-have（锦上添花）  
- 自动提醒/通知（如入住到期提醒、活动报名提醒）。  
- 移动端统计图表优化（交互式可视化）。  
- API 接口对接外部公益平台。  

---

## 8. Epic 拆分（对应业务域）  

### Epic 1: 患者与家庭档案  
- 用户故事：录入/编辑档案、身份证去重、脱敏显示。  

### Epic 2: 入住/退住管理  
- 用户故事：记录入住/退住、费用补助、排序显示。  

### Epic 3: 家庭服务追踪  
- 用户故事：志愿者提交探访日志，社工审核。  

### Epic 4: 活动管理  
- 用户故事：活动发布、报名、签到记录。  

### Epic 5: 数据统计与分析  
- 用户故事：月度/年度统计，导出报表。  

### Epic 6: 权限与安全  
- 用户故事：角色区分，脱敏审批，权限申请。  

---

## 9. 建议迭代节奏  
- **迭代 1（MVP）**：Epic 1 + Epic 2 + Epic 3（核心功能）  
- **迭代 2（Must）**：Epic 4 + Epic 5（完整统计与活动）  
- **迭代 3（Should/Could）**：Epic 6 + 扩展功能（照片上传、家长端）  
