# Story 7.8: 组件库 - Button（变体/状态/尺寸）（P1）

## Status
Completed

## Story
作为终端用户，我希望所有按钮在不同页面具有一致的视觉与交互（变体/状态/尺寸）；作为开发者，我希望通过统一 Button 组件减少重复并提升可维护性。

## Acceptance Criteria
1. 新增 `miniprogram/components/button/` 组件，支持：
   - 变体：`primary|secondary|ghost|danger`
   - 状态：`default|pressed|disabled|loading`
   - 尺寸：`sm|md`
2. 样式完全对齐 `docs/uiux/design-system/components.md#按钮（Button）`（颜色、对比度、动效、禁用/加载态）。
3. 在至少两处表单页替换原生按钮样式（可与 Story 7.10 协同）。

## Tasks / Subtasks
- [ ] 组件脚手架与属性实现（AC: 1）
- [ ] 样式与状态（AC: 2）
- [ ] 表单页替换试点（AC: 3）

## Dev Notes
- 组件与目录（Source: docs/architecture/01-frontend.md、docs/process/coding-standards.md）
- 设计规范（Source: docs/uiux/design-system/components.md#按钮）
- A11y（Source: docs/uiux/design-system/accessibility.md）：对比度、触达尺寸、禁用态可区分。

### Testing
- 状态覆盖：default/pressed/disabled/loading 显示正确且无跳动。
- 试点替换页面提交流程可用，无回归。

## Change Log
| Date       | Version | Description                                  | Author |
|------------|---------|----------------------------------------------|--------|
| 2025-09-08 | 0.1     | 初始草案                                     | BMAD   |
| 2025-09-08 | 0.2     | 通过 Story Draft Checklist，状态改为 Approved | BMAD   |
| 2025-09-09 | 1.0     | Button 组件完成 + 表单页替换试点 + QA通过     | BMAD   |

## Dev Agent Record

## QA Results

- Result: Passed
- Test Plan: docs/qa/test-plan-button.md
- QA Report: docs/qa/results/button-qa-report-2025-09-09.md
- Notes:
  - 原生 `<button>` 语义 + `aria-disabled` 同步禁用/加载；Spinner 可见性符合规范
  - 已在 `services/form` 与 `patients/form` 完成替换试点
