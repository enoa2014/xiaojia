# 可访问性细则（Accessibility Guidelines）

目标：让不同能力与设备环境下的用户都能顺畅完成任务；同时为测试与验收提供可执行清单。

## 颜色与对比度
- 正文与背景对比度 ≥ 4.5:1；按钮/链接文本 ≥ 3:1。
- 语义色（成功/警告/危险/信息）应配合图标与文本，不仅依赖颜色传达。
- 禁用态使用 `opacity-disabled` 且仍保持可辨识的形状/标签。

## 触控与尺寸
- 触达区域：最小 88×88 rpx；相邻元素间距 ≥ 8rpx。
- 可滚区域应清晰可识别；避免过窄的拖动手柄。

## 文案与语义
- 按钮/链接文案清晰描述动作（如“提交记录”、“去申请权限”）。
- 使用可读的日期/数值格式；敏感提示友好且提供解决路径。
- 组件语义：为重要元素提供 `aria-label` 或可被朗读的文本（受小程序平台支持限制）。

## 焦点与反馈
- 关键交互提供视觉反馈（Pressed/Loading/Disabled）。
- Dialog 打开后将焦点圈定于内部；关闭返回触发点。
- 表单错误定位至对应字段，提供内联错误文案并高亮。

## 键盘与读屏（平台支持尽可能）
- 输入控件可通过“下一项”顺序正确跳转。
- 图片/图标提供替代文本（如按钮旁有文本可朗读，则可省略）。
- Toast 不应阻挡关键按钮；重要信息使用 Dialog。

## 动画与运动
- 动画时长控制在 150–400ms；避免大面积、频闪动画。
- 提供“减少动效”开关（可在设置页或遵循系统设置，如适用）。

## 错误与空态
- 错误提示避免技术术语；提供重试/反馈与 requestId。
- 空态提供下一步行动（去创建/去申请权限/去导入）。

## 可达性检查清单（A11y Checklist）
- 颜色与对比度
  - [ ] 正文/背景 ≥ 4.5:1；按钮/链接 ≥ 3:1
  - [ ] 语义状态不依赖颜色单一表达（配图标/文本）
- 触控与布局
  - [ ] 触控目标≥88×88rpx；间距≥8rpx
  - [ ] 滚动区域明确，避免竞争手势
- 文案与语义
  - [ ] 按钮/链接文案明确，避免“这里/更多”
  - [ ] 重要图标/图片提供可朗读的文本或旁文本
- 焦点与反馈
  - [ ] Dialog 焦点圈定；关闭返回触发点
  - [ ] 表单错误内联并定位
- 动画与视觉
  - [ ] 无频闪；动效 150–400ms；可关闭或减少
- 错误与降级
  - [ ] 错误码映射友好；可重试错误走退避；保留草稿

参考
- tokens.md（颜色/间距/圆角/阴影）
- components.md（状态与语义）
- docs/api/error-codes.md（错误与降级）
