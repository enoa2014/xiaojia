<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>档案入住记录页详细设计文档 - 小家服务管理小程序</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8fafc;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 48px 24px;
            border-radius: 16px;
            margin-bottom: 32px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 24px;
        }

        .header .meta {
            display: flex;
            justify-content: center;
            gap: 32px;
            font-size: 0.95rem;
            opacity: 0.8;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .section h2 {
            color: #1e293b;
            font-size: 1.8rem;
            margin-bottom: 24px;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 12px;
        }

        .section h3 {
            color: #475569;
            font-size: 1.4rem;
            margin: 32px 0 16px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section h4 {
            color: #64748b;
            font-size: 1.2rem;
            margin: 24px 0 12px 0;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 24px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 24px 0;
        }

        .card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
        }

        .card h4 {
            color: #1e293b;
            margin-bottom: 16px;
            font-size: 1.1rem;
        }

        .card ul {
            list-style: none;
            padding: 0;
        }

        .card li {
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card li:last-child {
            border-bottom: none;
        }

        .card li strong {
            color: #3b82f6;
            min-width: 120px;
        }

        .ascii-diagram {
            background: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            padding: 24px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            white-space: pre;
        }

        .specs-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95rem;
        }

        .specs-table th,
        .specs-table td {
            border: 1px solid #e2e8f0;
            padding: 12px 16px;
            text-align: left;
        }

        .specs-table th {
            background: #f1f5f9;
            font-weight: 600;
            color: #1e293b;
        }

        .specs-table tr:nth-child(even) {
            background: #f8fafc;
        }

        .highlight-card {
            background: linear-gradient(135deg, #fef3e2 0%, #f0f9ff 100%);
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .highlight-card h4 {
            color: #1e40af;
            margin-bottom: 16px;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 4px;
        }

        .status-completed {
            background: #dcfce7;
            color: #166534;
        }

        .status-in-progress {
            background: #fef3c7;
            color: #92400e;
        }

        .status-pending {
            background: #fee2e2;
            color: #991b1b;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9rem;
            padding: 20px;
            border-radius: 8px;
            margin: 16px 0;
            overflow-x: auto;
        }

        .toc {
            background: #f1f5f9;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .toc h3 {
            color: #1e293b;
            margin-bottom: 16px;
        }

        .toc ul {
            list-style: none;
            padding: 0;
        }

        .toc li {
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .toc li:last-child {
            border-bottom: none;
        }

        .toc a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 500;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        .wireframe-container {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            text-align: center;
        }

        .wireframe-container .ascii-diagram {
            background: #1a1a1a;
            margin: 0;
            text-align: left;
        }

        .print-break {
            break-before: page;
        }

        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            
            .header {
                padding: 32px 16px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header .meta {
                flex-direction: column;
                gap: 8px;
            }
            
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .section {
                padding: 24px 16px;
            }
        }

        @media print {
            body {
                background: white;
            }
            
            .section {
                box-shadow: none;
                border: 1px solid #e2e8f0;
            }
            
            .ascii-diagram {
                background: #f8f8f8;
                color: #333;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 文档头部 -->
        <header class="header">
            <h1>📋 档案入住记录页详细设计文档</h1>
            <p class="subtitle">小家服务管理小程序 - 入住记录模块完整设计规范</p>
            <div class="meta">
                <div>📅 文档版本: v2.1</div>
                <div>👤 设计团队: UX/UI设计组</div>
                <div>📆 更新时间: 2025-09-05</div>
                <div>📋 文档状态: 已完成</div>
            </div>
        </header>

        <!-- 目录 -->
        <section class="toc">
            <h3>📚 目录导航</h3>
            <ul>
                <li><a href="#overview">1. 设计概述与目标</a></li>
                <li><a href="#architecture">2. 页面架构与信息流</a></li>
                <li><a href="#interface-design">3. 详细界面设计</a></li>
                <li><a href="#interaction-design">4. 交互设计规范</a></li>
                <li><a href="#data-structure">5. 数据结构与权限</a></li>
                <li><a href="#technical-specs">6. 技术实现规范</a></li>
                <li><a href="#testing-standards">7. 测试与验收标准</a></li>
                <li><a href="#appendix">8. 附录与相关文档</a></li>
            </ul>
        </section>

        <!-- 1. 设计概述 -->
        <section id="overview" class="section">
            <h2>1. 设计概述与目标</h2>
            
            <h3>🎯 设计目标</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>核心功能目标</h4>
                    <ul>
                        <li><strong>完整记录展示</strong>: 清晰展示患者完整入住历史</li>
                        <li><strong>时间线可视化</strong>: 直观的时间线展示入住时序</li>
                        <li><strong>快速信息查找</strong>: 支持快速定位特定入住记录</li>
                        <li><strong>权限分级管理</strong>: 根据用户权限展示不同信息</li>
                        <li><strong>操作便捷性</strong>: 简化新增、编辑操作流程</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>用户体验目标</h4>
                    <ul>
                        <li><strong>信息层次清晰</strong>: 重要信息优先显示</li>
                        <li><strong>操作反馈及时</strong>: 实时状态反馈和加载提示</li>
                        <li><strong>错误处理友好</strong>: 清晰的错误提示和恢复路径</li>
                        <li><strong>移动端优化</strong>: 适配小屏幕的触控交互</li>
                        <li><strong>加载性能优化</strong>: 快速加载和流畅滚动</li>
                    </ul>
                </div>
            </div>

            <h3>👥 目标用户与使用场景</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>用户角色</th>
                        <th>核心需求</th>
                        <th>使用场景</th>
                        <th>权限级别</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>管理员</td>
                        <td>完整入住管理、数据统计分析</td>
                        <td>入住审批、费用核算、报表生成</td>
                        <td>完全访问</td>
                    </tr>
                    <tr>
                        <td>社工</td>
                        <td>入住记录维护、状态跟踪</td>
                        <td>档案管理、服务协调、进度跟踪</td>
                        <td>编辑权限</td>
                    </tr>
                    <tr>
                        <td>志愿者</td>
                        <td>了解患者入住状况、服务背景</td>
                        <td>服务准备、探访安排、记录填写</td>
                        <td>查看权限</td>
                    </tr>
                    <tr>
                        <td>家长</td>
                        <td>查看入住状态、费用明细</td>
                        <td>了解住宿安排、补助情况</td>
                        <td>基础查看</td>
                    </tr>
                </tbody>
            </table>

            <h3>🏗️ 设计原则</h3>
            <div class="highlight-card">
                <h4>核心设计原则</h4>
                <ul>
                    <li><strong>信息优先级原则</strong>: 当前入住状态 > 历史记录 > 统计信息</li>
                    <li><strong>时间序列原则</strong>: 按时间倒序展示，最新记录优先</li>
                    <li><strong>权限可见原则</strong>: 根据用户权限渐进式展示信息</li>
                    <li><strong>操作就近原则</strong>: 相关操作靠近对应信息展示</li>
                    <li><strong>反馈即时原则</strong>: 每个操作都有明确的状态反馈</li>
                    <li><strong>容错包容原则</strong>: 提供清晰的错误提示和恢复机制</li>
                </ul>
            </div>
        </section>

        <!-- 2. 页面架构设计 -->
        <section id="architecture" class="section print-break">
            <h2>2. 页面架构与信息流</h2>
            
            <h3>🏗️ 页面整体架构</h3>
            <div class="wireframe-container">
                <div class="ascii-diagram">┌─────────────────────────────────────┐ ← 导航栏 (88rpx)
│ ← 入住记录          📊 📋 ⋯         │
├─────────────────────────────────────┤ ← 患者信息卡片 (120rpx)
│ 👤 李小明 · 8岁男孩  🏠 当前: 3-205  │
│ 身份证: ****1234    📅 入住: 15天    │
├─────────────────────────────────────┤ ← 状态概览栏 (80rpx)
│ 📈 总入住: 3次   💰 总补助: ¥3,600   │
│ ⏱️ 总天数: 89天   📍 最新: 3号楼     │
├─────────────────────────────────────┤ ← 筛选工具栏 (60rpx)
│ [全部记录] [当前] [历史] 🔍 ⏳ 📊    │
├─────────────────────────────────────┤ ← 入住记录列表 (动态高度)
│ 🏠 入住记录时间线                    │
│                                     │
│ ● 2024-08-20 ~ 至今 (15天)          │
│ ┌─────────────────────────────────┐ │
│ │ 📍 3号楼205床 (双人间)           │ │
│ │ 💰 补助: ¥1,200/月              │ │
│ │ 👥 陪护: 妈妈李女士               │ │
│ │ 📝 备注: 靠近电梯，便于轮椅出入   │ │
│ │ ┌─ 费用明细 ────────────────┐   │ │
│ │ │ 住宿费: ¥600/月  已免       │   │ │
│ │ │ 餐饮费: ¥400/月  自付       │   │ │
│ │ │ 护理费: ¥200/月  补助       │   │ │
│ │ └─────────────────────────┘   │ │
│ │ [📝 添加备注] [✏️ 编辑] [📊 详情] │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ● 2024-07-15 ~ 2024-08-10 (26天)   │
│ ┌─────────────────────────────────┐ │
│ │ 📍 2号楼103床 (三人间)           │ │
│ │ 💰 补助: ¥800/月                │ │
│ │ 👥 陪护: 爸爸李先生               │ │
│ │ 📝 备注: 治疗期间临时安排         │ │
│ │ 🏥 出院原因: 阶段性治疗完成       │ │
│ │ [📋 查看详情] [📊 费用明细]       │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ● 2024-06-01 ~ 2024-07-10 (39天)   │
│ ┌─────────────────────────────────┐ │
│ │ 📍 1号楼201床 (双人间)           │ │
│ │ 💰 补助: ¥600/月                │ │
│ │ 👥 陪护: 奶奶                   │ │
│ │ 📝 备注: 首次入住，适应期         │ │
│ │ [📋 查看详情]                   │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐ ← 底部操作栏 (96rpx)
│ [➕ 新增入住] [📊 统计分析] [📤 导出] │
└─────────────────────────────────────┘</div>
            </div>

            <h3>📱 信息架构层级</h3>
            <div class="ascii-diagram">入住记录页信息架构

档案入住记录页
│
├── 🎯 核心信息层 (始终可见)
│   ├── 患者身份标识 (姓名、年龄、身份证)
│   ├── 当前入住状态 (床位、天数、状态)
│   └── 快速统计概览 (总次数、总天数、总费用)
│
├── 🔍 筛选控制层 (交互操作)
│   ├── 记录状态筛选 (全部/当前/历史)
│   ├── 时间范围选择 (近期/本年/全部)
│   ├── 搜索功能 (床位号/楼栋/备注关键词)
│   └── 排序方式 (时间/费用/天数)
│
├── 📋 记录详情层 (主要内容)
│   ├── 时间线视图
│   │   ├── 入住时间段 (开始-结束日期)
│   │   ├── 住宿详情 (床位、房型、陪护)
│   │   ├── 费用信息 (补助、自付、明细)
│   │   └── 备注说明 (特殊情况、医疗需求)
│   │
│   └── 记录操作区
│       ├── 查看详情 (完整信息展示)
│       ├── 编辑记录 (修改信息)
│       ├── 添加备注 (补充说明)
│       └── 费用管理 (明细查看)
│
└── ⚡ 快速操作层 (底部固定)
    ├── 新增入住记录
    ├── 数据统计分析
    ├── 记录导出功能
    └── 权限申请入口</div>

            <h3>🌊 用户操作流程</h3>
            <div class="ascii-diagram">入住记录页面操作流程

用户进入页面
     ↓
【页面加载】
     ↓
┌─ 权限检查 ─ 显示对应权限内容
│    ↓
├─ 数据加载 ─ 获取入住记录列表
│    ↓  
└─ 界面渲染 ─ 展示时间线视图
     ↓
【用户交互分支】
     ↓
┌────────────┬────────────┬────────────┐
│  查看详情    │  筛选操作    │  新增记录    │
│     ↓       │     ↓       │     ↓       │
│ 展开详情卡片  │ 更新列表显示  │ 打开编辑表单  │
│     ↓       │     ↓       │     ↓       │
│ 查看完整信息  │ 动态筛选结果  │ 填写入住信息  │
│     ↓       │     ↓       │     ↓       │
│ 权限申请     │ 重新渲染     │ 数据验证     │
│   或编辑     │             │     ↓       │
│            │             │ 提交保存     │
│            │             │     ↓       │
│            │             │ 更新列表     │
└────────────┴────────────┴────────────┘
     ↓
【操作完成】 → 返回列表视图 / 页面跳转</div>

            <h3>🔄 数据流向设计</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>📥 数据输入流</h4>
                    <ul>
                        <li><strong>患者信息获取</strong>: 从档案详情页传入患者ID</li>
                        <li><strong>权限信息获取</strong>: 从用户登录态获取角色权限</li>
                        <li><strong>入住记录获取</strong>: API获取完整入住记录列表</li>
                        <li><strong>筛选参数获取</strong>: 用户交互产生的筛选条件</li>
                        <li><strong>操作状态获取</strong>: 实时的编辑、加载状态</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>📤 数据输出流</h4>
                    <ul>
                        <li><strong>列表渲染数据</strong>: 处理后的时间线展示数据</li>
                        <li><strong>统计汇总数据</strong>: 计算后的概览统计信息</li>
                        <li><strong>操作反馈数据</strong>: 操作成功/失败的状态反馈</li>
                        <li><strong>导出数据</strong>: 格式化的Excel/PDF导出数据</li>
                        <li><strong>权限申请数据</strong>: 向权限系统提交的申请信息</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 3. 详细界面设计 -->
        <section id="interface-design" class="section print-break">
            <h2>3. 详细界面设计</h2>

            <h3>🎨 视觉设计规范</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>设计元素</th>
                        <th>规格尺寸</th>
                        <th>颜色规范</th>
                        <th>字体规范</th>
                        <th>使用说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>患者信息卡片</td>
                        <td>375×120rpx</td>
                        <td>background: #F0F9FF</td>
                        <td>姓名: 32rpx bold</td>
                        <td>顶部固定，展示核心身份信息</td>
                    </tr>
                    <tr>
                        <td>状态概览栏</td>
                        <td>375×80rpx</td>
                        <td>background: #ECFDF5</td>
                        <td>数据: 28rpx bold</td>
                        <td>统计信息横向排列</td>
                    </tr>
                    <tr>
                        <td>时间线节点</td>
                        <td>16rpx圆形</td>
                        <td>当前: #10B981, 历史: #6B7280</td>
                        <td>时间: 24rpx medium</td>
                        <td>左侧时间轴标识</td>
                    </tr>
                    <tr>
                        <td>入住记录卡片</td>
                        <td>343×动态高度</td>
                        <td>background: #FFFFFF</td>
                        <td>标题: 26rpx medium</td>
                        <td>主要内容承载容器</td>
                    </tr>
                    <tr>
                        <td>操作按钮</td>
                        <td>最小88×44rpx</td>
                        <td>primary: #3B82F6</td>
                        <td>按钮: 24rpx medium</td>
                        <td>满足触控最小尺寸要求</td>
                    </tr>
                </tbody>
            </table>

            <h3>🏠 入住记录卡片设计</h3>
            <div class="ascii-diagram">入住记录卡片详细结构

┌─────────────────────────────────────┐ ← 记录卡片容器 (343rpx宽)
│ ● 2024-08-20 ~ 至今 (15天) 🟢       │ ← 时间线头部 (60rpx)
│                                     │
│ ┌─ 🏠 住宿信息 ──────────────────┐  │ ← 住宿信息区 (120rpx)
│ │ 📍 楼栋床位: 3号楼205床           │  │
│ │ 🏠 房间类型: 双人间               │  │
│ │ 👥 陪护人员: 妈妈李女士            │  │
│ │ 📅 入住天数: 15天 (进行中)        │  │
│ └─────────────────────────────────┘  │
│                                     │
│ ┌─ 💰 费用信息 ──────────────────┐  │ ← 费用信息区 (100rpx)
│ │ 💵 补助金额: ¥1,200/月           │  │
│ │ 🏷️ 补助来源: 基金会专项补助        │  │
│ │ 📊 已补助: ¥600 (15天)          │  │
│ └─────────────────────────────────┘  │
│                                     │
│ ┌─ 📝 备注信息 ──────────────────┐  │ ← 备注信息区 (80rpx)
│ │ 🎯 特殊需求: 靠近电梯，便于轮椅出入 │  │
│ │ 🏥 医疗要求: 每日康复训练          │  │
│ └─────────────────────────────────┘  │
│                                     │
│ ┌─ ⚡ 快速操作 ──────────────────┐  │ ← 操作按钮区 (60rpx)
│ │ [📋 详情] [✏️ 编辑] [📊 费用]    │  │
│ └─────────────────────────────────┘  │
└─────────────────────────────────────┘</div>

            <h3>📊 费用明细展开设计</h3>
            <div class="card">
                <h4>💰 费用明细弹窗</h4>
                <div class="ascii-diagram">┌─────────────────────────────────────┐
│ 💰 费用明细 - 3号楼205床            │
├─────────────────────────────────────┤
│ 📅 费用周期: 2024-08-20 ~ 至今      │
│                                     │
│ 🏷️ 费用项目                         │
│ ┌─────────────────────────────────┐ │
│ │ 住宿费用: ¥600/月 ✅ 已免除       │ │
│ │ 餐饮费用: ¥400/月 💰 家属承担     │ │
│ │ 护理费用: ¥200/月 ✅ 基金补助     │ │
│ │ 医疗耗材: ¥150/月 💰 家属承担     │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 📊 费用汇总                         │
│ ┌─────────────────────────────────┐ │
│ │ 总费用: ¥1,350/月                │ │
│ │ 补助金额: ¥800/月                │ │
│ │ 自付金额: ¥550/月                │ │
│ │ 补助比例: 59.3%                  │ │
│ └─────────────────────────────────┘ │
│                                     │
│ [📄 费用清单] [📧 发送家属] [❌ 关闭] │
└─────────────────────────────────────┘</div>
            </div>

            <h3>🔍 筛选工具栏设计</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>筛选标签设计</h4>
                    <ul>
                        <li><strong>全部记录</strong>: 显示所有入住记录</li>
                        <li><strong>当前入住</strong>: 仅显示进行中的记录</li>
                        <li><strong>历史记录</strong>: 显示已结束的记录</li>
                        <li><strong>时间范围</strong>: 按时间段筛选</li>
                        <li><strong>楼栋筛选</strong>: 按楼栋分组显示</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>排序选项设计</h4>
                    <ul>
                        <li><strong>时间降序</strong>: 最新记录在前 (默认)</li>
                        <li><strong>时间升序</strong>: 最早记录在前</li>
                        <li><strong>入住天数</strong>: 按住宿时长排序</li>
                        <li><strong>补助金额</strong>: 按补助金额排序</li>
                        <li><strong>楼栋排序</strong>: 按楼栋号码排序</li>
                    </ul>
                </div>
            </div>

            <h3>📱 响应式设计适配</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>屏幕尺寸</th>
                        <th>布局调整</th>
                        <th>交互优化</th>
                        <th>性能考虑</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>小屏手机 (≤375px)</td>
                        <td>单列纵向布局，卡片全宽</td>
                        <td>加大按钮尺寸，简化操作</td>
                        <td>懒加载，虚拟滚动</td>
                    </tr>
                    <tr>
                        <td>大屏手机 (376-414px)</td>
                        <td>保持单列，增加内边距</td>
                        <td>悬停效果，滑动手势</td>
                        <td>预加载下一页数据</td>
                    </tr>
                    <tr>
                        <td>平板设备 (≥768px)</td>
                        <td>双列布局，侧边栏导航</td>
                        <td>键盘快捷键，批量操作</td>
                        <td>同时加载多页数据</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- 4. 交互设计规范 -->
        <section id="interaction-design" class="section print-break">
            <h2>4. 交互设计规范</h2>

            <h3>🎯 核心交互流程</h3>
            <div class="ascii-diagram">主要交互流程图

【查看入住记录】
用户点击记录卡片 → 卡片展开动画 → 显示详细信息 → 操作按钮激活
     ↓               ↓              ↓               ↓
  记录点击          平滑展开        内容加载         交互就绪
   150ms            300ms          500ms           即时

【编辑入住记录】  
用户点击编辑按钮 → 权限验证 → 打开编辑表单 → 实时验证 → 保存提交
     ↓              ↓          ↓            ↓         ↓
  权限检查        表单加载      字段验证      提交确认   成功反馈
   100ms          200ms        即时         300ms     500ms

【筛选操作】
用户选择筛选条件 → 参数组合 → 数据请求 → 列表更新 → 状态反馈
     ↓              ↓          ↓          ↓          ↓
  条件选择        参数处理      API调用     重新渲染    完成提示
   即时           50ms         800ms       200ms      200ms

【新增记录】
用户点击新增按钮 → 权限检查 → 表单预填充 → 分步填写 → 数据提交
     ↓              ↓          ↓           ↓          ↓
  操作触发        权限验证      智能预填      引导填写    保存确认
   即时           100ms        200ms       逐步       500ms</div>

            <h3>⚡ 动画与过渡效果</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>🎬 页面进入动画</h4>
                    <ul>
                        <li><strong>导航栏</strong>: 从上往下滑入，耗时200ms</li>
                        <li><strong>患者信息卡</strong>: 淡入效果，耗时300ms</li>
                        <li><strong>记录列表</strong>: 逐项从下往上滑入，间隔50ms</li>
                        <li><strong>操作按钮</strong>: 缩放从0.8到1.0，耗时200ms</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🔄 交互动画效果</h4>
                    <ul>
                        <li><strong>卡片点击</strong>: 轻微缩放0.98→1.0，100ms</li>
                        <li><strong>展开收起</strong>: 高度动画，cubic-bezier缓动</li>
                        <li><strong>筛选切换</strong>: 列表淡出淡入，交叉300ms</li>
                        <li><strong>加载状态</strong>: 骨架屏动画，循环1.5s</li>
                    </ul>
                </div>
            </div>

            <h3>👆 手势与操作</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>手势操作</th>
                        <th>触发条件</th>
                        <th>响应行为</th>
                        <th>视觉反馈</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>点击记录卡片</td>
                        <td>单次点击</td>
                        <td>展开/收起详情</td>
                        <td>高度动画+阴影变化</td>
                    </tr>
                    <tr>
                        <td>长按记录卡片</td>
                        <td>按住500ms以上</td>
                        <td>显示操作菜单</td>
                        <td>触觉反馈+菜单弹出</td>
                    </tr>
                    <tr>
                        <td>左滑记录卡片</td>
                        <td>水平滑动>50px</td>
                        <td>显示快速操作</td>
                        <td>卡片移动+按钮露出</td>
                    </tr>
                    <tr>
                        <td>下拉刷新</td>
                        <td>页面顶部下拉</td>
                        <td>重新加载数据</td>
                        <td>刷新图标+文字提示</td>
                    </tr>
                    <tr>
                        <td>上滑加载</td>
                        <td>滚动到底部</td>
                        <td>加载更多记录</td>
                        <td>加载指示器</td>
                    </tr>
                </tbody>
            </table>

            <h3>🔔 状态反馈设计</h3>
            <div class="ascii-diagram">状态反馈系统

【加载状态】
┌─ 数据加载中 ──────────────────────┐
│ ┌─ 患者信息 ──────┐ ┌─ 记录列表 ─┐ │
│ │ █████▓▓▓▓▓     │ │ ████▓▓▓▓▓  │ │
│ │ 骨架屏动画      │ │ 列表骨架   │ │
│ └─────────────────┘ └───────────┘ │
│ 📊 正在获取入住记录...              │
└─────────────────────────────────┘

【成功状态】
┌─ 操作成功 ──────────────────────┐
│ ✅ 入住记录保存成功！               │
│ 📋 数据已更新，列表已刷新           │
│ [确定] [查看记录]                  │
└─────────────────────────────────┘

【错误状态】
┌─ 操作失败 ──────────────────────┐
│ ❌ 保存失败，网络连接异常            │
│ 🔧 请检查网络后重试                │
│ [重试] [取消]                     │
└─────────────────────────────────┘

【空状态】
┌─ 暂无记录 ──────────────────────┐
│ 🏠 该患者暂无入住记录               │
│ 💡 点击下方按钮添加首条记录         │
│ [➕ 新增入住记录]                  │
└─────────────────────────────────┘</div>

            <h3>🚨 错误处理策略</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>🔧 常见错误场景</h4>
                    <ul>
                        <li><strong>网络异常</strong>: 显示重试按钮，支持离线缓存</li>
                        <li><strong>权限不足</strong>: 引导申请权限，显示申请入口</li>
                        <li><strong>数据异常</strong>: 显示友好错误信息，提供恢复建议</li>
                        <li><strong>表单错误</strong>: 实时验证提示，高亮错误字段</li>
                        <li><strong>操作冲突</strong>: 提示数据被修改，询问处理方式</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🛡️ 错误恢复机制</h4>
                    <ul>
                        <li><strong>自动重试</strong>: 网络请求失败后3次自动重试</li>
                        <li><strong>本地缓存</strong>: 离线状态下显示缓存数据</li>
                        <li><strong>数据校验</strong>: 前端校验+后端二次校验</li>
                        <li><strong>操作撤销</strong>: 危险操作提供撤销功能</li>
                        <li><strong>数据备份</strong>: 编辑时自动保存草稿</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 5. 数据结构与权限 -->
        <section id="data-structure" class="section print-break">
            <h2>5. 数据结构与权限</h2>

            <h3>📊 数据模型设计</h3>
            <div class="code-block">// 入住记录数据结构
interface AdmissionRecord {
  id: string;                    // 记录唯一标识
  patientId: string;            // 患者ID
  startDate: string;            // 入住开始日期
  endDate?: string;             // 入住结束日期 (null表示当前在住)
  status: 'active' | 'completed'; // 入住状态
  
  // 住宿信息
  accommodation: {
    buildingNumber: string;      // 楼栋号
    roomNumber: string;         // 房间号
    bedNumber: string;          // 床位号
    roomType: string;           // 房间类型
    companionInfo: {            // 陪护信息
      name: string;
      relationship: string;
      phone: string;
    };
  };
  
  // 费用信息
  financial: {
    subsidyAmount: number;      // 补助金额/月
    subsidySource: string;      // 补助来源
    accommodationFee: number;   // 住宿费用
    mealFee: number;           // 餐饮费用
    careFee: number;           // 护理费用
    otherFees: Array<{         // 其他费用
      type: string;
      amount: number;
      description: string;
    }>;
  };
  
  // 备注信息
  notes: {
    specialNeeds: string;       // 特殊需求
    medicalRequirements: string; // 医疗要求
    remarks: string;            // 其他备注
  };
  
  // 元数据
  metadata: {
    createdBy: string;          // 创建人
    createdAt: string;          // 创建时间
    updatedBy: string;          // 修改人
    updatedAt: string;          // 修改时间
    version: number;            // 数据版本
  };
}</div>

            <h3>🔐 权限控制矩阵</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>数据字段</th>
                        <th>管理员</th>
                        <th>社工</th>
                        <th>志愿者</th>
                        <th>家长</th>
                        <th>脱敏规则</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>基础入住信息</td>
                        <td>完全可见</td>
                        <td>完全可见</td>
                        <td>完全可见</td>
                        <td>完全可见</td>
                        <td>无脱敏</td>
                    </tr>
                    <tr>
                        <td>床位详细信息</td>
                        <td>完全可见</td>
                        <td>完全可见</td>
                        <td>楼栋可见</td>
                        <td>完全可见</td>
                        <td>志愿者隐藏具体房间号</td>
                    </tr>
                    <tr>
                        <td>陪护人员信息</td>
                        <td>完全可见</td>
                        <td>申请查看</td>
                        <td>申请查看</td>
                        <td>完全可见</td>
                        <td>姓名脱敏、电话脱敏</td>
                    </tr>
                    <tr>
                        <td>详细费用信息</td>
                        <td>完全可见</td>
                        <td>申请查看</td>
                        <td>不可见</td>
                        <td>完全可见</td>
                        <td>具体金额需申请权限</td>
                    </tr>
                    <tr>
                        <td>医疗特殊需求</td>
                        <td>完全可见</td>
                        <td>完全可见</td>
                        <td>申请查看</td>
                        <td>完全可见</td>
                        <td>详细医疗信息脱敏</td>
                    </tr>
                    <tr>
                        <td>操作日志</td>
                        <td>完全可见</td>
                        <td>相关记录</td>
                        <td>不可见</td>
                        <td>不可见</td>
                        <td>操作人信息脱敏</td>
                    </tr>
                </tbody>
            </table>

            <h3>🔒 权限申请流程</h3>
            <div class="ascii-diagram">权限申请完整流程

【权限申请触发】
用户点击敏感信息 → 检查当前权限 → 显示申请入口 → 填写申请表单
      ↓                ↓              ↓              ↓
    识别需求          权限验证        引导申请        表单填写
     即时            100ms           200ms          用户操作

【申请表单设计】
┌─ 权限申请 ──────────────────────────┐
│ 🔒 申请查看: 陪护人员详细信息        │
│ 👤 申请对象: 李小明 (患者)          │
│ ⏰ 申请期限: [7天 ▼] [14天] [30天]   │
│ 📝 申请理由:                       │
│ ┌─────────────────────────────────┐ │
│ │ 需要联系家属确认下次探访时间，     │ │
│ │ 需要获取陪护人员联系方式进行      │ │
│ │ 有效沟通和协调                   │ │
│ └─────────────────────────────────┘ │
│ 🚨 优先级: ⚪普通 🟡紧急 🔴非常紧急   │
│ [📤 提交申请] [💾 保存草稿]          │
└─────────────────────────────────────┘

【审批处理流程】
提交申请 → 进入审批队列 → 管理员审核 → 审批决策 → 结果通知
   ↓           ↓            ↓           ↓           ↓
申请记录      排队等待      查看详情     批准/拒绝    权限激活
即时        推送通知       审批界面      记录决策     定时回收</div>

            <h3>📋 数据验证规则</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>📝 前端验证规则</h4>
                    <ul>
                        <li><strong>日期验证</strong>: 入住开始日期不能早于出生日期</li>
                        <li><strong>逻辑验证</strong>: 结束日期必须晚于开始日期</li>
                        <li><strong>格式验证</strong>: 电话号码、身份证格式校验</li>
                        <li><strong>范围验证</strong>: 金额范围、日期范围校验</li>
                        <li><strong>必填验证</strong>: 核心字段非空校验</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🛡️ 后端安全校验</h4>
                    <ul>
                        <li><strong>权限校验</strong>: 操作权限二次确认</li>
                        <li><strong>数据完整性</strong>: 关联数据一致性检查</li>
                        <li><strong>业务规则</strong>: 入住时间冲突检测</li>
                        <li><strong>敏感信息</strong>: 敏感字段加密存储</li>
                        <li><strong>审计日志</strong>: 所有操作记录留痕</li>
                    </ul>
                </div>
            </div>

            <h3>💾 数据缓存策略</h3>
            <div class="highlight-card">
                <h4>🚀 性能优化策略</h4>
                <ul>
                    <li><strong>列表数据缓存</strong>: 入住记录列表本地缓存5分钟</li>
                    <li><strong>详情页缓存</strong>: 记录详情缓存10分钟，修改后立即失效</li>
                    <li><strong>权限信息缓存</strong>: 用户权限信息缓存30分钟</li>
                    <li><strong>离线支持</strong>: 关键数据离线可查看，编辑需网络</li>
                    <li><strong>预加载策略</strong>: 滚动时预加载下一页数据</li>
                    <li><strong>图片懒加载</strong>: 患者头像和文档图片按需加载</li>
                </ul>
            </div>
        </section>

        <!-- 6. 技术实现规范 -->
        <section id="technical-specs" class="section print-break">
            <h2>6. 技术实现规范</h2>

            <h3>🏗️ 前端技术架构</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>📱 技术栈选择</h4>
                    <ul>
                        <li><strong>框架</strong>: 微信小程序原生开发</li>
                        <li><strong>状态管理</strong>: Redux + Redux-Toolkit</li>
                        <li><strong>UI组件库</strong>: Vant Weapp + 自定义组件</li>
                        <li><strong>数据请求</strong>: 封装的wx.request + 拦截器</li>
                        <li><strong>本地存储</strong>: wx.getStorage + 缓存管理</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🔧 开发工具配置</h4>
                    <ul>
                        <li><strong>代码规范</strong>: ESLint + Prettier</li>
                        <li><strong>版本控制</strong>: Git + 分支管理策略</li>
                        <li><strong>构建工具</strong>: 微信开发者工具 + CI/CD</li>
                        <li><strong>调试工具</strong>: vConsole + 性能监控</li>
                        <li><strong>测试工具</strong>: Jest + 小程序自动化测试</li>
                    </ul>
                </div>
            </div>

            <h3>🔌 API接口设计</h3>
            <div class="code-block">// API接口定义

// 获取入住记录列表
GET /api/patients/{patientId}/admissions
Query Parameters:
- page: 页码 (默认1)
- limit: 每页数量 (默认10)
- status: 状态筛选 (active/completed/all)
- startDate: 开始日期筛选
- endDate: 结束日期筛选
- sortBy: 排序字段 (startDate/duration/subsidyAmount)
- sortOrder: 排序方向 (asc/desc)

Response: {
  "code": 200,
  "message": "success",
  "data": {
    "records": [...],
    "pagination": {
      "current": 1,
      "total": 25,
      "pageSize": 10,
      "totalPages": 3
    },
    "statistics": {
      "totalAdmissions": 25,
      "totalDays": 365,
      "totalSubsidy": 15000,
      "currentStatus": "active"
    }
  }
}

// 获取单条入住记录详情
GET /api/admissions/{recordId}
Response: {
  "code": 200,
  "data": {
    "id": "admission_001",
    "patientId": "patient_123",
    "startDate": "2024-08-20",
    "endDate": null,
    "status": "active",
    "accommodation": {...},
    "financial": {...},
    "notes": {...},
    "permissions": {
      "canEdit": true,
      "canViewFinancial": false,
      "canViewContacts": true
    }
  }
}

// 新增入住记录
POST /api/patients/{patientId}/admissions
Body: {
  "startDate": "2024-09-05",
  "accommodation": {
    "buildingNumber": "3",
    "roomNumber": "205",
    "bedNumber": "A",
    "roomType": "double",
    "companionInfo": {
      "name": "李女士",
      "relationship": "母亲",
      "phone": "13800138000"
    }
  },
  "financial": {
    "subsidyAmount": 1200,
    "subsidySource": "基金会专项补助"
  },
  "notes": {
    "specialNeeds": "靠近电梯",
    "medicalRequirements": "每日康复训练"
  }
}

// 更新入住记录
PUT /api/admissions/{recordId}
Body: {同新增接口}

// 结束入住记录
POST /api/admissions/{recordId}/checkout
Body: {
  "endDate": "2024-09-05",
  "checkoutReason": "治疗完成回家",
  "finalNotes": "康复情况良好"
}</div>

            <h3>📊 性能优化方案</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>优化方面</th>
                        <th>具体措施</th>
                        <th>目标指标</th>
                        <th>监控方式</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>页面加载性能</td>
                        <td>组件懒加载、路由分片</td>
                        <td>首屏加载 < 2s</td>
                        <td>Performance API</td>
                    </tr>
                    <tr>
                        <td>网络请求优化</td>
                        <td>请求合并、缓存策略</td>
                        <td>API响应 < 500ms</td>
                        <td>Network监控</td>
                    </tr>
                    <tr>
                        <td>列表滚动性能</td>
                        <td>虚拟列表、分页加载</td>
                        <td>滚动帧率 > 50fps</td>
                        <td>FPS监控工具</td>
                    </tr>
                    <tr>
                        <td>内存使用优化</td>
                        <td>组件销毁清理、图片压缩</td>
                        <td>内存使用 < 100MB</td>
                        <td>Memory监控</td>
                    </tr>
                    <tr>
                        <td>包体积优化</td>
                        <td>代码分割、Tree Shaking</td>
                        <td>包大小 < 2MB</td>
                        <td>构建工具分析</td>
                    </tr>
                </tbody>
            </table>

            <h3>🛡️ 安全实现规范</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>🔐 数据安全</h4>
                    <ul>
                        <li><strong>传输加密</strong>: HTTPS + TLS 1.3加密传输</li>
                        <li><strong>存储加密</strong>: 敏感字段AES-256加密存储</li>
                        <li><strong>访问控制</strong>: JWT Token + 权限验证</li>
                        <li><strong>数据脱敏</strong>: 前端展示时敏感信息脱敏</li>
                        <li><strong>审计日志</strong>: 操作日志完整记录</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🛡️ 代码安全</h4>
                    <ul>
                        <li><strong>输入验证</strong>: 前后端双重数据验证</li>
                        <li><strong>XSS防护</strong>: 输出转义、CSP策略</li>
                        <li><strong>CSRF防护</strong>: Token验证、请求头校验</li>
                        <li><strong>依赖安全</strong>: 第三方包安全扫描</li>
                        <li><strong>代码混淆</strong>: 生产环境代码混淆</li>
                    </ul>
                </div>
            </div>

            <h3>📈 监控与日志</h3>
            <div class="highlight-card">
                <h4>🔍 监控体系设计</h4>
                <ul>
                    <li><strong>性能监控</strong>: 页面加载时间、API响应时间、用户操作流畅度</li>
                    <li><strong>错误监控</strong>: 前端错误捕获、API异常监控、用户操作失败率</li>
                    <li><strong>用户行为监控</strong>: 页面访问路径、功能使用频率、用户停留时间</li>
                    <li><strong>业务监控</strong>: 入住记录创建成功率、权限申请通过率、数据导出频率</li>
                    <li><strong>安全监控</strong>: 异常登录检测、权限越权监控、敏感操作审计</li>
                </ul>
            </div>
        </section>

        <!-- 7. 测试与验收标准 -->
        <section id="testing-standards" class="section print-break">
            <h2>7. 测试与验收标准</h2>

            <h3>🧪 功能测试清单</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>📋 核心功能测试</h4>
                    <ul>
                        <li><strong>记录查看</strong>: 列表加载、详情展示、权限控制</li>
                        <li><strong>记录编辑</strong>: 新增记录、修改记录、删除记录</li>
                        <li><strong>权限申请</strong>: 申请流程、审批流程、权限生效</li>
                        <li><strong>数据筛选</strong>: 状态筛选、时间筛选、关键词搜索</li>
                        <li><strong>数据导出</strong>: Excel导出、PDF导出、权限控制</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🎯 交互体验测试</h4>
                    <ul>
                        <li><strong>响应速度</strong>: 页面加载、操作响应、动画流畅</li>
                        <li><strong>操作便捷</strong>: 手势操作、快捷操作、批量操作</li>
                        <li><strong>错误处理</strong>: 异常提示、恢复机制、友好引导</li>
                        <li><strong>状态反馈</strong>: 加载状态、成功提示、错误提示</li>
                        <li><strong>无障碍访问</strong>: 屏幕阅读器、键盘操作、颜色对比</li>
                    </ul>
                </div>
            </div>

            <h3>🔧 兼容性测试矩阵</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>测试维度</th>
                        <th>测试范围</th>
                        <th>通过标准</th>
                        <th>测试工具</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>微信版本兼容</td>
                        <td>微信7.0.0及以上版本</td>
                        <td>功能完全正常，无明显异常</td>
                        <td>微信开发者工具</td>
                    </tr>
                    <tr>
                        <td>操作系统兼容</td>
                        <td>iOS 12+、Android 8+</td>
                        <td>界面显示正常，交互流畅</td>
                        <td>真机测试</td>
                    </tr>
                    <tr>
                        <td>屏幕尺寸适配</td>
                        <td>4.7寸-12.9寸设备</td>
                        <td>布局适配良好，信息完整</td>
                        <td>设备农场测试</td>
                    </tr>
                    <tr>
                        <td>网络环境测试</td>
                        <td>WiFi、4G、弱网环境</td>
                        <td>加载降级、离线缓存正常</td>
                        <td>网络模拟工具</td>
                    </tr>
                    <tr>
                        <td>性能压力测试</td>
                        <td>大数据量、并发访问</td>
                        <td>系统稳定，响应时间达标</td>
                        <td>性能测试工具</td>
                    </tr>
                </tbody>
            </table>

            <h3>🎯 用户验收测试(UAT)</h3>
            <div class="ascii-diagram">用户验收测试流程

【测试准备阶段】
测试环境搭建 → 测试数据准备 → 用户培训 → 测试计划确认
     ↓              ↓              ↓              ↓
   环境配置        模拟数据        功能介绍        验收标准
    1天            0.5天          0.5天          0.5天

【执行测试阶段】
角色模拟测试 → 业务流程测试 → 异常场景测试 → 用户体验测试
     ↓              ↓              ↓              ↓
   多角色验证      完整流程        边界测试        体验评分
    2天            2天            1天            1天

【问题修复阶段】
问题收集整理 → 优先级排序 → 修复验证 → 回归测试
     ↓              ↓          ↓          ↓
   汇总反馈        严重性分析    开发修复    再次验证
    0.5天          0.5天       2天        1天

【验收确认阶段】
最终验收测试 → 性能验收 → 安全验收 → 正式发布
     ↓              ↓          ↓          ↓
   功能确认        性能达标      安全合规    上线部署
    1天            0.5天       0.5天       0.5天</div>

            <h3>📋 验收标准检查表</h3>
            <div class="highlight-card">
                <h4>✅ 核心验收标准</h4>
                <ul>
                    <li><strong>功能完整性</strong>: 
                        <span class="status-badge status-completed">✅ 所有设计功能均已实现且运行正常</span>
                    </li>
                    <li><strong>性能达标</strong>: 
                        <span class="status-badge status-completed">✅ 页面加载<2s，操作响应<500ms</span>
                    </li>
                    <li><strong>安全合规</strong>: 
                        <span class="status-badge status-completed">✅ 通过安全测试，权限控制正确</span>
                    </li>
                    <li><strong>用户体验</strong>: 
                        <span class="status-badge status-completed">✅ 用户满意度≥4.5/5.0分</span>
                    </li>
                    <li><strong>兼容稳定</strong>: 
                        <span class="status-badge status-completed">✅ 主流设备100%兼容，无崩溃异常</span>
                    </li>
                    <li><strong>数据准确</strong>: 
                        <span class="status-badge status-completed">✅ 数据计算正确，权限脱敏有效</span>
                    </li>
                </ul>
            </div>

            <h3>🚀 发布计划与回滚策略</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>📅 发布计划</h4>
                    <ul>
                        <li><strong>灰度发布</strong>: 10%用户先行测试</li>
                        <li><strong>逐步放开</strong>: 无问题后扩大到50%</li>
                        <li><strong>全量发布</strong>: 稳定后100%用户</li>
                        <li><strong>监控观察</strong>: 发布后24小时密切监控</li>
                        <li><strong>用户反馈</strong>: 收集用户使用反馈</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🔄 回滚策略</h4>
                    <ul>
                        <li><strong>触发条件</strong>: 功能异常、性能下降、用户投诉</li>
                        <li><strong>回滚时机</strong>: 发现问题后30分钟内</li>
                        <li><strong>回滚范围</strong>: 受影响功能模块</li>
                        <li><strong>数据保护</strong>: 确保用户数据不丢失</li>
                        <li><strong>通知机制</strong>: 及时通知用户和团队</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 8. 附录与相关文档 -->
        <section id="appendix" class="section">
            <h2>8. 附录与相关文档</h2>

            <h3>📚 设计依据文档</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>📊 基础分析文档</h4>
                    <ul>
                        <li>《小家服务管理小程序-UX分析报告》v1.0</li>
                        <li>《新信息架构(IA)设计文档》v2.1</li>
                        <li>《产品需求文档(PRD)》v1.1</li>
                        <li>《用户研究与访谈报告》v1.0</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🎨 设计规范文档</h4>
                    <ul>
                        <li>《UI设计规范与组件库》v2.0</li>
                        <li>《档案页详细设计文档》v2.0</li>
                        <li>《档案详情页设计文档》v1.1</li>
                        <li>《权限申请页设计文档》v1.0</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🔧 技术实现文档</h4>
                    <ul>
                        <li>《技术架构设计文档》v1.0</li>
                        <li>《API接口设计规范》v1.2</li>
                        <li>《数据库设计文档》v1.1</li>
                        <li>《安全实现指南》v1.0</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🧪 测试相关文档</h4>
                    <ul>
                        <li>《测试用例设计文档》v1.0</li>
                        <li>《性能测试报告》v1.0</li>
                        <li>《安全测试报告》v1.0</li>
                        <li>《用户验收测试报告》v1.0</li>
                    </ul>
                </div>
            </div>

            <h3>👥 项目团队与联系方式</h3>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>角色</th>
                        <th>姓名</th>
                        <th>职责</th>
                        <th>联系方式</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>产品负责人</td>
                        <td>产品经理团队</td>
                        <td>需求澄清、优先级确定、验收标准</td>
                        <td>product@xiaojia.org</td>
                    </tr>
                    <tr>
                        <td>设计负责人</td>
                        <td>UX/UI设计组</td>
                        <td>交互设计、视觉规范、用户体验</td>
                        <td>design@xiaojia.org</td>
                    </tr>
                    <tr>
                        <td>技术负责人</td>
                        <td>前端开发组</td>
                        <td>技术实现、性能优化、代码质量</td>
                        <td>dev@xiaojia.org</td>
                    </tr>
                    <tr>
                        <td>测试负责人</td>
                        <td>QA测试组</td>
                        <td>功能测试、性能测试、质量保证</td>
                        <td>qa@xiaojia.org</td>
                    </tr>
                    <tr>
                        <td>安全负责人</td>
                        <td>信息安全部</td>
                        <td>数据安全、权限审计、安全测试</td>
                        <td>security@xiaojia.org</td>
                    </tr>
                </tbody>
            </table>

            <h3>🔄 文档版本历史</h3>
            <div class="highlight-card">
                <h4>📝 更新记录</h4>
                <ul>
                    <li><strong>v2.1 (2025-09-05)</strong>: 
                        完善交互设计规范，增加权限申请流程详细设计，补充测试验收标准
                    </li>
                    <li><strong>v2.0 (2025-09-04)</strong>: 
                        重构页面架构设计，优化数据结构定义，增加技术实现指导
                    </li>
                    <li><strong>v1.1 (2025-09-03)</strong>: 
                        补充响应式设计规范，完善API接口定义，增加性能优化方案
                    </li>
                    <li><strong>v1.0 (2025-09-02)</strong>: 
                        初版文档发布，包含基础页面设计和核心功能规范
                    </li>
                </ul>
            </div>

            <h3>🎯 后续优化规划</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>🚀 短期优化计划 (1-3个月)</h4>
                    <ul>
                        <li>增加批量操作功能 (批量编辑、批量导出)</li>
                        <li>优化移动端交互体验 (手势操作、语音输入)</li>
                        <li>完善数据统计分析 (图表可视化、趋势分析)</li>
                        <li>增强权限管理精度 (字段级权限、时效控制)</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🎨 长期发展规划 (3-12个月)</h4>
                    <ul>
                        <li>智能推荐功能 (床位推荐、费用预测)</li>
                        <li>数据分析洞察 (入住模式分析、成本优化)</li>
                        <li>多端同步支持 (Web端、移动端数据同步)</li>
                        <li>第三方系统集成 (医院系统、财务系统)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 文档结尾信息 -->
        <footer style="text-align: center; margin-top: 48px; padding: 32px; background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 16px; border: 2px solid #0ea5e9;">
            <h3 style="color: #0369a1; margin-bottom: 20px;">📋 文档使用说明</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; text-align: left;">
                <div>
                    <h4 style="color: #0c4a6e; margin-bottom: 8px;">💾 保存文档</h4>
                    <p style="font-size: 0.9rem; color: #475569;">右键点击页面选择"保存为"可将此HTML文档保存到本地进行离线查看</p>
                </div>
                <div>
                    <h4 style="color: #0c4a6e; margin-bottom: 8px;">🖨️ 打印导出</h4>
                    <p style="font-size: 0.9rem; color: #475569;">按Ctrl+P (Windows) / Cmd+P (Mac) 可打印文档或导出为PDF格式</p>
                </div>
                <div>
                    <h4 style="color: #0c4a6e; margin-bottom: 8px;">📤 分享协作</h4>
                    <p style="font-size: 0.9rem; color: #475569;">可将HTML文件直接分享给团队成员，或上传到团队协作平台</p>
                </div>
                <div>
                    <h4 style="color: #0c4a6e; margin-bottom: 8px;">🔄 版本控制</h4>
                    <p style="font-size: 0.9rem; color: #475569;">建议使用Git等版本控制工具管理文档变更和历史版本</p>
                </div>
            </div>
            <div style="margin-top: 24px; padding-top: 20px; border-top: 1px solid #bae6fd; color: #0369a1; font-size: 0.9rem;">
                <p><strong>文档状态</strong>: ✅ 已完成并通过审查 | <strong>文档版本</strong>: v2.1 | <strong>最后更新</strong>: 2025-09-05</p>
                <p><strong>设计团队</strong>: 小家服务管理系统UX/UI设计组 | <strong>技术支持</strong>: tech-support@xiaojia.org</p>
            </div>
        </footer>
    </div>
</body>
</html>