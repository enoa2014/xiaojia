<view class="loading-skeleton {{animation}} {{!show ? 'hidden' : ''}}" wx:if="{{show}}" role="status" aria-live="polite" aria-busy="{{show}}" aria-label="加载中">
  <!-- 列表型骨架 -->
  <view wx:if="{{type === 'list'}}" class="skeleton-list">
    <view wx:for="{{listItems}}" wx:key="id" class="skeleton-list-item">
      <view class="skeleton-avatar"></view>
      <view class="skeleton-content">
        <view class="skeleton-line title" style="width: {{item.titleWidth}}%"></view>
        <view class="skeleton-line subtitle" style="width: {{item.contentWidth}}%"></view>
        <view class="skeleton-line meta" style="width: {{item.lineWidth}}%"></view>
      </view>
    </view>
  </view>

  <!-- 详情型骨架（兼容 calendar 作为详情布局） -->
  <view wx:elif="{{type === 'detail' || type === 'calendar'}}" class="skeleton-detail">
    <!-- 头部信息 -->
    <view class="skeleton-detail-header">
      <view class="skeleton-avatar large"></view>
      <view class="skeleton-header-content">
        <view class="skeleton-line title large" style="width: 80%"></view>
        <view class="skeleton-line subtitle" style="width: 60%"></view>
        <view class="skeleton-line meta" style="width: 45%"></view>
      </view>
    </view>

    <!-- 分割线 -->
    <view class="skeleton-divider"></view>

    <!-- 详情内容区块 -->
    <view class="skeleton-detail-sections">
      <!-- 基本信息块 -->
      <view class="skeleton-section">
        <view class="skeleton-line section-title" style="width: 30%"></view>
        <view class="skeleton-fields">
          <view class="skeleton-field">
            <view class="skeleton-line field-label" style="width: 25%"></view>
            <view class="skeleton-line field-value" style="width: 55%"></view>
          </view>
          <view class="skeleton-field">
            <view class="skeleton-line field-label" style="width: 30%"></view>
            <view class="skeleton-line field-value" style="width: 70%"></view>
          </view>
          <view class="skeleton-field">
            <view class="skeleton-line field-label" style="width: 35%"></view>
            <view class="skeleton-line field-value" style="width: 40%"></view>
          </view>
        </view>
      </view>

      <!-- 扩展信息块 -->
      <view class="skeleton-section">
        <view class="skeleton-line section-title" style="width: 35%"></view>
        <view class="skeleton-fields">
          <view class="skeleton-field">
            <view class="skeleton-line field-label" style="width: 40%"></view>
            <view class="skeleton-line field-value" style="width: 60%"></view>
          </view>
          <view class="skeleton-field">
            <view class="skeleton-line field-label" style="width: 25%"></view>
            <view class="skeleton-line field-value" style="width: 80%"></view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 图表型骨架 -->
  <view wx:elif="{{type === 'chart'}}" class="skeleton-chart" style="{{height ? 'height:' + height : ''}}">
    <!-- 图表标题和控制器区域 -->
    <view class="skeleton-chart-header">
      <view class="skeleton-line chart-title" style="width: 40%"></view>
      <view class="skeleton-chart-controls">
        <view class="skeleton-chip" style="width: 60rpx"></view>
        <view class="skeleton-chip" style="width: 80rpx"></view>
        <view class="skeleton-chip" style="width: 70rpx"></view>
      </view>
    </view>
    
    <!-- 图表主体 -->
    <view class="skeleton-chart-body">
      <!-- 柱状图骨架 -->
      <view class="skeleton-chart-bars">
        <view wx:for="{{[20, 60, 40, 80, 30, 90, 50, 70, 35, 85]}}" wx:key="*this" 
              class="skeleton-chart-bar" 
              style="height: {{item}}%"></view>
      </view>
      
      <!-- 底部坐标轴 -->
      <view class="skeleton-chart-axis">
        <view wx:for="{{[1,2,3,4,5,6,7,8,9,10]}}" wx:key="*this" class="skeleton-axis-label"></view>
      </view>
    </view>
  </view>

  <!-- 自定义骨架 -->
  <view wx:elif="{{type === 'custom'}}" class="skeleton-custom" style="{{height ? 'height:' + height : ''}}">
    <slot name="skeleton"></slot>
  </view>
</view>
