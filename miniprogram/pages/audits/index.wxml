<view class="page">
  <!-- å¯¼èˆªå¤´éƒ¨åŒº -->
  <view class="nav-header {{theme.headerBg}} full-bleed">
    <view class="brand">ğŸ“‹ å®¡è®¡æ—¥å¿—</view>
    <view class="nav-actions">
      <!-- å¯åœ¨æ­¤æ·»åŠ å¯¼èˆªæ“ä½œæŒ‰é’® -->
    </view>
  </view>

  <view class="filters">
    <picker mode="date" value="{{fromDate}}" bindchange="onFromDate">
      <view class="date">{{fromDate?fromDate:'å¼€å§‹æ—¥æœŸ'}}</view>
    </picker>
    <picker mode="date" value="{{toDate}}" bindchange="onToDate">
      <view class="date">{{toDate?toDate:'ç»“æŸæ—¥æœŸ'}}</view>
    </picker>
  </view>
  <view class="filters">
    <input class="input" placeholder="åŠ¨ä½œï¼ˆå¦‚ permissions.approveï¼‰" value="{{action}}" bindinput="onAction"/>
    <input class="input" placeholder="æ“ä½œè€… actorIdï¼ˆOPENIDï¼‰" value="{{actorId}}" bindinput="onActor"/>
    <button class="btn" loading="{{loading}}" bindtap="search">æŸ¥è¯¢</button>
  </view>

  <view class="error" wx:if="{{error}}">{{error}}</view>

  <block wx:for="{{items}}" wx:key="_id">
    <view class="card">
      <view class="row"><text class="k">æ—¶é—´</text><text class="v">{{item.dtText}}</text></view>
      <view class="row"><text class="k">åŠ¨ä½œ</text><text class="v">{{item.action}}</text></view>
      <view class="row"><text class="k">æ“ä½œè€…</text><text class="v">{{item.actorId}}</text></view>
      <view class="row"><text class="k">ç›®æ ‡</text><text class="v">{{item.targetText}}</text></view>
    </view>
  </block>

  <view class="more" wx:if="{{hasMore && !loading}}" bindtap="loadMore">åŠ è½½æ›´å¤šâ€¦</view>
  <view class="empty" wx:if="{{!loading && items.length===0}}">æš‚æ— å®¡è®¡è®°å½•</view>
</view>

