<view class="page">
  <view class="page-header">
    <text class="page-title">FormField 组件演示</text>
    <text class="page-desc">表单字段组件的各种状态和用法示例</text>
  </view>

  <view class="demo-section">
    <text class="section-title">基础用法</text>
    
    <!-- 文本输入框 -->
    <ui-form-field label="姓名" required="{{true}}" helpText="请输入您的真实姓名" fieldId="name">
      <input 
        slot="control" 
        class="form-input" 
        placeholder="请输入姓名"
        value="{{formData.name}}"
        bindinput="onInputName"
        bindfocus="onFocusField"
        bindblur="onBlurField"
        data-field="name" />
    </ui-form-field>

    <!-- 身份证号输入 -->
    <ui-form-field label="身份证号" required="{{true}}" helpText="18位身份证号码" fieldId="idCard" errorText="{{errors.idCard}}">
      <input 
        slot="control" 
        class="form-input" 
        placeholder="请输入18位身份证号"
        value="{{formData.idCard}}"
        bindinput="onInputIdCard"
        bindfocus="onFocusField"
        bindblur="onBlurField"
        data-field="idCard"
        maxlength="18" />
    </ui-form-field>

    <!-- 手机号输入 -->
    <ui-form-field label="手机号" helpText="11位手机号码" fieldId="phone" errorText="{{errors.phone}}">
      <input 
        slot="control" 
        class="form-input" 
        placeholder="请输入手机号"
        value="{{formData.phone}}"
        bindinput="onInputPhone"
        bindfocus="onFocusField"
        bindblur="onBlurField"
        data-field="phone"
        type="number"
        maxlength="11" />
    </ui-form-field>

    <!-- 多行文本输入 -->
    <ui-form-field label="备注" helpText="选填，最多500字" fieldId="notes">
      <textarea 
        slot="control" 
        class="form-textarea" 
        placeholder="请输入备注信息"
        value="{{formData.notes}}"
        bindinput="onInputNotes"
        bindfocus="onFocusField"
        bindblur="onBlurField"
        data-field="notes"
        maxlength="500" />
    </ui-form-field>
  </view>

  <view class="demo-section">
    <text class="section-title">状态演示</text>
    
    <!-- 默认状态 -->
    <ui-form-field label="默认状态" helpText="这是默认状态的字段" fieldId="default">
      <input slot="control" class="form-input" placeholder="默认状态" />
    </ui-form-field>

    <!-- 焦点状态 -->
    <ui-form-field label="焦点状态" state="focus" helpText="这是获得焦点的字段" fieldId="focus">
      <input slot="control" class="form-input" placeholder="焦点状态" />
    </ui-form-field>

    <!-- 错误状态 -->
    <ui-form-field label="错误状态" state="error" errorText="这是一个错误提示信息" fieldId="error">
      <input slot="control" class="form-input" placeholder="错误状态" />
    </ui-form-field>

    <!-- 禁用状态 -->
    <ui-form-field label="禁用状态" disabled="{{true}}" helpText="这个字段被禁用了" fieldId="disabled">
      <input slot="control" class="form-input" placeholder="禁用状态" disabled />
    </ui-form-field>
  </view>

  <view class="demo-section">
    <text class="section-title">与Button协作</text>
    
    <ui-form-field label="用户名" required="{{true}}" fieldId="username" errorText="{{errors.username}}">
      <input 
        slot="control" 
        class="form-input" 
        placeholder="请输入用户名"
        value="{{formData.username}}"
        bindinput="onInputUsername"
        bindfocus="onFocusField"
        bindblur="onBlurField"
        data-field="username" />
    </ui-form-field>

    <ui-form-field label="密码" required="{{true}}" fieldId="password" errorText="{{errors.password}}">
      <input 
        slot="control" 
        class="form-input" 
        placeholder="请输入密码"
        password="{{true}}"
        value="{{formData.password}}"
        bindinput="onInputPassword"
        bindfocus="onFocusField"
        bindblur="onBlurField"
        data-field="password" />
    </ui-form-field>

    <ui-button 
      text="提交表单" 
      variant="primary" 
      fullWidth="{{true}}"
      loading="{{submitting}}"
      bindtap="onSubmitForm"
      id="submit-button" />
      
    <ui-button 
      text="重置" 
      variant="secondary" 
      fullWidth="{{true}}"
      bindtap="onResetForm" />
  </view>

  <view class="demo-section">
    <text class="section-title">校验规则测试</text>
    <view class="test-buttons">
      <ui-button text="触发名称错误" variant="ghost" size="sm" bindtap="onTriggerNameError" />
      <ui-button text="触发身份证错误" variant="ghost" size="sm" bindtap="onTriggerIdCardError" />
      <ui-button text="触发手机号错误" variant="ghost" size="sm" bindtap="onTriggerPhoneError" />
      <ui-button text="清除所有错误" variant="ghost" size="sm" bindtap="onClearAllErrors" />
    </view>
  </view>

  <view class="demo-section">
    <text class="section-title">协作测试</text>
    <view class="test-buttons">
      <ui-button text="运行基础交互测试" variant="ghost" size="sm" bindtap="onRunBasicTest" />
      <ui-button text="运行校验流程测试" variant="ghost" size="sm" bindtap="onRunValidationTest" />
      <ui-button text="运行无障碍测试" variant="ghost" size="sm" bindtap="onRunAccessibilityTest" />
      <ui-button text="运行全部测试" variant="primary" size="sm" bindtap="onRunAllTests" />
    </view>
  </view>
</view>
