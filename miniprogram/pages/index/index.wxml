
<view class="nav-header">
  <view class="brand">ğŸ  å°å®¶æœåŠ¡ä¸­å¿ƒ</view>
  <view class="toolbar">
    <text class="tool" bindtap="wip">ğŸ””</text>
    <text class="tool" bindtap="wip">ğŸ’¬</text>
    <text class="tool" bindtap="wip">âš™ï¸</text>
    <text class="tool" bindtap="openRoleSwitcher">ğŸ§ª</text>
  </view>
  
</view>

<view class="user-status">
  <view class="identity">
    <view class="avatar">{{user.avatar || 'ğŸ‘©â€ğŸ’¼'}}</view>
    <view class="meta">
      <view class="name">{{user.name}}ï¼ˆ{{user.roleName}}ï¼‰</view>
      <view class="perm">æƒé™ï¼š<text class="ok">{{user.permText}}</text></view>
    </view>
  </view>
  <view class="work">
    <view class="today">ä»Šæ—¥ï¼š{{user.todayDone}}/{{user.todayTotal}}</view>
    <view class="time">{{user.now}}</view>
  </view>
</view>

<view class="quick-actions" wx:if="{{!loading}}">
  <block wx:for="{{actions}}" wx:key="key">
    <view class="action-card" bindtap="onAction" data-key="{{item.key}}">
      <view class="icon">{{item.icon}}</view>
      <view class="title">{{item.title}}</view>
      <view class="subtitle">{{item.subtitle}}</view>
    </view>
  </block>
</view>

<view class="data-overview" wx:if="{{!loading}}">
  <view class="section-title">æœ¬æœˆæ¦‚å†µ</view>
  <scroll-view scroll-x class="stats-container">
    <block wx:for="{{stats}}" wx:key="key">
      <view class="stats-card">
        <view class="label">{{item.label}}</view>
        <view class="value">{{item.value}}</view>
        <view class="trend">{{item.trend}}</view>
      </view>
    </block>
  </scroll-view>
  
</view>

<view class="task-reminders" wx:if="{{!loading}}">
  <view class="task-header">
    <view>ğŸ“‹ å¾…åŠäº‹é¡¹ ({{tasks.length}})</view>
    <view class="link" bindtap="wip">æŸ¥çœ‹å…¨éƒ¨ ã€‰</view>
  </view>
  <view class="task-list">
    <block wx:for="{{tasks}}" wx:key="id">
      <view class="task-item" style="--priority-color: {{item.color}};">
        <view class="task-title">{{item.title}}</view>
        <view class="task-desc">{{item.desc}}</view>
      </view>
    </block>
  </view>
</view>

<view class="recent-updates" wx:if="{{!loading}}">
  <view class="task-header">
    <view>ğŸ• æœ€æ–°åŠ¨æ€</view>
    <view class="link" bindtap="wip">æŸ¥çœ‹æ›´å¤š ã€‰</view>
  </view>
  <view class="timeline-container">
    <block wx:for="{{updates}}" wx:key="id">
      <view class="timeline-item">
        <view class="time">{{item.time}}</view>
        <view class="text">{{item.text}}</view>
      </view>
    </block>
  </view>
  </view>
<!-- éª¨æ¶å± -->
<view wx:if="{{loading}}" class="skeleton">
  <view class="sk-qa">
    <view class="sk-card"></view>
    <view class="sk-card"></view>
    <view class="sk-card"></view>
    <view class="sk-card"></view>
  </view>
  <view class="sk-stats">
    <view class="sk-stat"></view>
    <view class="sk-stat"></view>
    <view class="sk-stat"></view>
  </view>
  <view class="sk-tasks">
    <view class="sk-task"></view>
    <view class="sk-task"></view>
    <view class="sk-task"></view>
  </view>
</view>
