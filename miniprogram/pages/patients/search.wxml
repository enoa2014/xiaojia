<view class="page">
  <view class="search-bar">
    <input class="search-input" placeholder="输入姓名前缀或证件尾4位" value="{{keyword}}" bindinput="onInput" confirm-type="search" bindconfirm="search" />
    <button class="search-btn" loading="{{loading}}" bindtap="search">搜索</button>
  </view>
  <view class="modes">
    <text data-mode="auto" bindtap="onMode" class="mode {{mode==='auto'?'active':''}}">智能</text>
    <text data-mode="name" bindtap="onMode" class="mode {{mode==='name'?'active':''}}">按姓名</text>
    <text data-mode="tail" bindtap="onMode" class="mode {{mode==='tail'?'active':''}}">按证件尾4位</text>
  </view>
  <view class="result" wx:for="{{list}}" wx:key="_id" bindtap="toDetail" data-id="{{item._id}}">
    <view class="item">
      <view class="left">
        <text class="name">{{item.name || '未命名'}}</text>
        <text class="sub">证件尾：{{item.id_card_tail || '--'}} · 创建：{{item.createdAtText || ''}}</text>
      </view>
      <text class="arrow">›</text>
    </view>
  </view>
  <view class="empty" wx:if="{{!loading && (!list || list.length===0)}}">无结果</view>
</view>
