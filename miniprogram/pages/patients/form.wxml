<view class="page">
  <view class="nav-header {{theme.headerBg}} full-bleed">
    <view class="brand">üìù Êñ∞Âª∫Ê°£Ê°à</view>
    <view class="nav-actions"></view>
  </view>
  <!-- Âü∫Êú¨‰ø°ÊÅØ -->
  <ui-form-field 
    id="field-name"
    label="ÂßìÂêç"
    required="{{true}}">
    <input 
      slot="control"
      class="input" 
      placeholder="ËØ∑ËæìÂÖ•ÂßìÂêç" 
      value="{{name}}" 
      data-key="name"
      bindinput="onInput" />
  </ui-form-field>
  <ui-form-field 
    id="field-id_card"
    label="Ë∫´‰ªΩËØÅ"
    fieldId="id_card"
    required="{{true}}"
    errorText="{{errors.id_card || ''}}">
    <input 
      slot="control"
      class="input" 
      placeholder="ËØ∑ËæìÂÖ•Ë∫´‰ªΩËØÅÂè∑Á†Å" 
      maxlength="18"
      value="{{id_card}}" 
      data-key="id_card"
      bindinput="onInput" />
  </ui-form-field>
  <ui-form-field 
    id="field-phone"
    label="ÊâãÊú∫Âè∑ÔºàÂèØÈÄâÔºâ"
    fieldId="phone"
    errorText="{{errors.phone || ''}}">
    <input 
      slot="control"
      class="input" 
      type="number" 
      placeholder="11‰ΩçÊâãÊú∫Âè∑" 
      value="{{phone}}" 
      data-key="phone"
      bindinput="onInput" />
  </ui-form-field>
  <ui-form-field 
    id="field-birthDate"
    label="Âá∫ÁîüÊó•ÊúüÔºàÂèØÈÄâÔºâ"
    fieldId="birthDate"
    errorText="{{errors.birthDate || ''}}">
    <picker 
      slot="control"
      mode="date" 
      value="{{birthDate}}"
      bindchange="onPickBirth">
      <view class="picker">{{birthDate || 'ÈÄâÊã©Êó•Êúü'}}</view>
    </picker>
  </ui-form-field>

  <!-- Êõ¥Â§ö‰ø°ÊÅØÔºàÊäòÂè†Ôºâ -->
  <view class="more-toggle" bindtap="toggleMore">
    <text class="more-text">Êõ¥Â§ö‰ø°ÊÅØ</text>
    <text class="more-arrow">{{moreOpen? '‚ñ≤' : '‚ñº'}}</text>
  </view>
  <view wx:if="{{moreOpen}}">
    <ui-form-field 
      id="field-gender"
      label="ÊÄßÂà´ÔºàÂèØÈÄâÔºâ"
      fieldId="gender">
      <radio-group slot="control" class="seg" bindchange="onInput" data-key="gender">
        <label class="seg-item"><radio value="male" checked="{{gender==='male'}}"/>Áî∑</label>
        <label class="seg-item"><radio value="female" checked="{{gender==='female'}}"/>Â•≥</label>
      </radio-group>
    </ui-form-field>
    <ui-form-field 
      id="field-nativePlace"
      label="Á±çË¥ØÔºàÂèØÈÄâÔºâ"
      fieldId="nativePlace">
      <input slot="control" class="input" placeholder="Â¶ÇÔºöÊ≤≥Âåó Áü≥ÂÆ∂Â∫Ñ" value="{{nativePlace}}" data-key="nativePlace" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-ethnicity"
      label="Ê∞ëÊóèÔºàÂèØÈÄâÔºâ"
      fieldId="ethnicity">
      <input slot="control" class="input" placeholder="Â¶ÇÔºöÊ±âÊóè" value="{{ethnicity}}" data-key="ethnicity" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-hospital"
      label="Â∞±ËØäÂåªÈô¢ÔºàÂèØÈÄâÔºâ"
      fieldId="hospital">
      <input slot="control" class="input" placeholder="ÂåªÈô¢ÂêçÁß∞" value="{{hospital}}" data-key="hospital" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-hospitalDiagnosis"
      label="ÂåªÈô¢ËØäÊñ≠ÔºàÂèØÈÄâÔºâ"
      fieldId="hospitalDiagnosis">
      <input slot="control" class="input" placeholder="ËØäÊñ≠ÊëòË¶Å" value="{{hospitalDiagnosis}}" data-key="hospitalDiagnosis" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-doctorName"
      label="‰∏ªÊ≤ªÂåªÁîüÔºàÂèØÈÄâÔºâ"
      fieldId="doctorName">
      <input slot="control" class="input" placeholder="ÂåªÁîüÂßìÂêç" value="{{doctorName}}" data-key="doctorName" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-symptoms"
      label="ÁóáÁä∂ËØ¶ÊÉÖÔºàÂèØÈÄâÔºâ"
      fieldId="symptoms">
      <textarea slot="control" class="textarea" maxlength="500" placeholder="‚â§500 Â≠ó" value="{{symptoms}}" data-key="symptoms" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-medicalCourse"
      label="ÂåªÁñóËøáÁ®ãÔºàÂèØÈÄâÔºâ"
      fieldId="medicalCourse">
      <textarea slot="control" class="textarea" maxlength="500" placeholder="‚â§500 Â≠ó" value="{{medicalCourse}}" data-key="medicalCourse" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-followupPlan"
      label="ÂêéÁª≠Ê≤ªÁñóÂÆâÊéíÔºàÂèØÈÄâÔºâ"
      fieldId="followupPlan">
      <textarea slot="control" class="textarea" maxlength="500" placeholder="‚â§500 Â≠ó" value="{{followupPlan}}" data-key="followupPlan" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-motherPhone"
      label="ÊØç‰∫≤ÁîµËØùÔºàÂèØÈÄâÔºâ"
      fieldId="motherPhone"
      errorText="{{errors.motherPhone || ''}}">
      <input 
        slot="control"
        class="input" 
        type="number" 
        placeholder="11‰ΩçÊâãÊú∫Âè∑" 
        value="{{motherPhone}}" 
        data-key="motherPhone"
        bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-motherIdCard"
      label="ÊØç‰∫≤Ë∫´‰ªΩËØÅÔºàÂèØÈÄâÔºâ"
      fieldId="motherIdCard"
      errorText="{{errors.motherIdCard || ''}}">
      <input 
        slot="control"
        class="input" 
        placeholder="18‰ΩçË∫´‰ªΩËØÅ" 
        maxlength="18"
        value="{{motherIdCard}}" 
        data-key="motherIdCard"
        bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-motherName"
      label="ÊØç‰∫≤ÂßìÂêçÔºàÂèØÈÄâÔºâ"
      fieldId="motherName">
      <input slot="control" class="input" placeholder="ÂßìÂêç" value="{{motherName}}" data-key="motherName" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-otherGuardians"
      label="ÂÖ∂‰ªñÁõëÊä§‰∫∫ÔºàÂèØÈÄâÔºâ"
      fieldId="otherGuardians">
      <input slot="control" class="input" placeholder="ÂßìÂêç/ÂÖ≥Á≥ª" value="{{otherGuardians}}" data-key="otherGuardians" bindinput="onInput" />
    </ui-form-field>
    <ui-form-field 
      id="field-familyEconomy"
      label="ÂÆ∂Â∫≠ÁªèÊµéÔºàÂèØÈÄâÔºâ"
      fieldId="familyEconomy">
      <input slot="control" class="input" placeholder="Â¶ÇÔºöÂõ∞Èöæ/‰∏ÄËà¨/ËâØÂ•Ω" value="{{familyEconomy}}" data-key="familyEconomy" bindinput="onInput" />
    </ui-form-field>
  </view>

  <ui-button 
    text="Êèê‰∫§" 
    variant="primary" 
    size="md"
    loading="{{submitting}}"
    fullWidth="{{true}}"
    bindtap="onSubmit" />
</view>
