<view class="page">
  <view class="nav-header {{theme.headerBg}} full-bleed">
    <view class="brand">{{ isEdit ? '‚úèÔ∏è ÁºñËæëÊ°£Ê°à' : 'üìù Êñ∞Âª∫Ê°£Ê°à' }}</view>
    <view class="nav-actions"></view>
  </view>

  <!-- Âü∫Êú¨‰ø°ÊÅØ -->
  <ui-form-field id="field-name" label="ÂßìÂêç" required="{{true}}">
    <input slot="control" class="input touch-target" placeholder="ËØ∑ËæìÂÖ•ÂßìÂêç"
      value="{{name}}" data-key="name" name="name" aria-label="ÂßìÂêçÔºåÂøÖÂ°´"
      bindinput="onInput" bindfocus="onFieldFocus" bindblur="onFieldBlur" />
  </ui-form-field>

  <ui-form-field id="field-id_card" label="Ë∫´‰ªΩËØÅ" fieldId="id_card" required="{{true}}" errorText="{{errors.id_card || ''}}">
    <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•Ë∫´‰ªΩËØÅÂè∑Á†Å" maxlength="18"
      value="{{id_card}}" data-key="id_card" bindinput="onInput" bindfocus="onFieldFocus" bindblur="onFieldBlur" />
  </ui-form-field>

  <ui-form-field id="field-phone" label="ÊâãÊú∫Âè∑ÔºàÂèØÈÄâÔºâ" fieldId="phone" errorText="{{errors.phone || ''}}">
    <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑" maxlength="11"
      value="{{phone}}" data-key="phone" bindinput="onInput" bindfocus="onFieldFocus" bindblur="onFieldBlur" />
  </ui-form-field>

  <ui-form-field id="field-birthDate" label="Âá∫ÁîüÊó•ÊúüÔºàÂèØÈÄâÔºâ" fieldId="birthDate" errorText="{{errors.birthDate || ''}}">
    <picker slot="control" mode="date" value="{{birthDate}}" bindchange="onPickBirth">
      <view class="picker">{{birthDate || 'ËØ∑ÈÄâÊã©Êó•Êúü'}}</view>
    </picker>
  </ui-form-field>

  <!-- Â±ïÂºÄÊõ¥Â§ö -->
  <view class="more-toggle">
    <ui-button variant="secondary" size="md" text="{{ moreOpen ? 'Êî∂Ëµ∑Êõ¥Â§ö' : 'Â±ïÂºÄÊõ¥Â§ö' }}" bindtap="toggleMore"></ui-button>
  </view>

  <view wx:if="{{moreOpen}}">
    <ui-form-field id="field-gender" label="ÊÄßÂà´">
      <input slot="control" class="input" placeholder="Áî∑/Â•≥"
        value="{{gender}}" data-key="gender" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-nativePlace" label="Á±çË¥Ø">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•Á±çË¥Ø"
        value="{{nativePlace}}" data-key="nativePlace" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-ethnicity" label="Ê∞ëÊóè">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•Ê∞ëÊóè"
        value="{{ethnicity}}" data-key="ethnicity" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-hospital" label="ÂåªÈô¢ÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="Â∞±ËØäÂåªÈô¢"
        value="{{hospital}}" data-key="hospital" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-hospitalDiagnosis" label="È¶ñËØäÁñæÁóÖÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•È¶ñËØäÁñæÁóÖ"
        value="{{hospitalDiagnosis}}" data-key="hospitalDiagnosis" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-doctorName" label="‰∏ªÊ≤ªÂåªÁîüÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•ÂåªÁîüÂßìÂêç"
        value="{{doctorName}}" data-key="doctorName" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-symptoms" label="ÁóáÁä∂ÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•ÁóáÁä∂"
        value="{{symptoms}}" data-key="symptoms" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-medicalCourse" label="ÁóÖÁ®ãÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ÁÆÄË¶ÅÁóÖÁ®ã"
        value="{{medicalCourse}}" data-key="medicalCourse" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-followupPlan" label="ÈöèËÆøËÆ°ÂàíÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•ÈöèËÆøËÆ°Âàí"
        value="{{followupPlan}}" data-key="followupPlan" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-motherName" label="ÊØç‰∫≤ÂßìÂêçÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•"
        value="{{motherName}}" data-key="motherName" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-motherPhone" label="ÊØç‰∫≤ÁîµËØùÔºàÂèØÈÄâÔºâ" errorText="{{errors.motherPhone || ''}}">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•"
        value="{{motherPhone}}" data-key="motherPhone" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-motherIdCard" label="ÊØç‰∫≤Ë∫´‰ªΩËØÅÔºàÂèØÈÄâÔºâ" errorText="{{errors.motherIdCard || ''}}">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•"
        value="{{motherIdCard}}" data-key="motherIdCard" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-otherGuardians" label="ÂÖ∂‰ªñÁõëÊä§‰∫∫ÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•"
        value="{{otherGuardians}}" data-key="otherGuardians" bindinput="onInput" />
    </ui-form-field>

    <ui-form-field id="field-familyEconomy" label="ÂÆ∂Â∫≠ÊÉÖÂÜµÔºàÂèØÈÄâÔºâ">
      <input slot="control" class="input" placeholder="ËØ∑ËæìÂÖ•"
        value="{{familyEconomy}}" data-key="familyEconomy" bindinput="onInput" />
    </ui-form-field>
  </view>

  <!-- Êèê‰∫§ÊåâÈíÆ -->
  <view class="submit-wrap">
    <ui-button id="submit-btn" variant="primary" size="md" text="{{ isEdit ? '‰øùÂ≠ò‰øÆÊîπ' : 'ÂàõÂª∫Ê°£Ê°à' }}"
      loading="{{submitting}}" bindtap="onSubmit"></ui-button>
  </view>
</view>
